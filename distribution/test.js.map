{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a85adc8d8c9383e0ce1f","webpack:///(webpack)/buildin/global.js","webpack:///./test/test.js","webpack:///./distribution/role-hierarchy.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/assert/assert.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///external {\"commonjs\":\"config\",\"commonjs2\":\"config\",\"amd\":\"config\",\"root\":\"config\"}","webpack:///./test/config/test.json"],"names":["assert","require","config","whichconfig","getDescendantProp","obj","desc","arr","split","length","shift","confJSON","get","key","describe","roleHierarchy","it","done","ok","teacher","findRoleInHierarchy","equal","name","subordinate","getRoleSubordinate","subordinatesArray","getAllSubordinateRolesAsArray","deepEqual","myUserObj","_id","profile","organizations","school","myStudentObj","organization","subordinatesMap","getAllUserSubordinatesAsMap","fieldsObj","getAllMyFieldsAsObject","result","isUserHasMoreSeniorRole","isUserDescendantOfUser","getProfileCriteriaFromUser","webpackUniversalModuleDefinition","root","factory","exports","module","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","getter","o","Object","defineProperty","configurable","enumerable","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","value","_createClass","defineProperties","target","props","descriptor","writable","Constructor","protoProps","staticProps","_typeof","Symbol","iterator","constructor","_hierarchyModel","_hierarchyModel2","_interopRequireDefault","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","_","_GLOBAL_GROUP","_getOrganizationsForUser2","_getOrganizationsForUser","myOrganizations","JSON","parse","stringify","_getRolesForUser2","_getRolesForUser","user","group","replace","roles","union","isArray","RoleHierarchy","_Hierarchy","paramsObj","getPrototypeOf","reparse","rolesHierarchy","treeModel","roleName","startNode","findNodeInHierarchy","seniorRoleName","subordinateRoleName","findDescendantNodeByName","getAllDescendantNodesAsArray","arguments","undefined","debug","logger","rolesICanAdminister","forEach","thisOrganization","myRoles","mySubordinateRolesForThisOrg","thisRole","thisRoleObjInHierarchy","_findNode","_this2","visibleUserFields","allRolesICanSeeForThisOrg","visibleUserFieldsForThisOrg","model","extend","organizationName","orgSubordinates","ourOrgSubordinatesArr","retVal","find","seniorUserObj","subordinateUserObj","seniorRolesMap","subordinateRolesMap","subordinateOrgs","keys","seniorsSubordinatesMap","seniorsSubordinateRolesForOrg","subordinateRolesForOrg","inCommon","intersection","userWithProfile","profileFilterCriteria","userRolesMap","rolesArray","roleIndex","profileFilters","filterIndex","thisProfileFilter","getOrganizationsForUser","getRolesForUser","define","amd","process","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","nextTick","args","Array","push","Item","array","apply","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","_treeModel","_treeModel2","_topiary","_topiary2","_underscore","_underscore2","SUPPRESS_NO_CONFIG_WARNING","Hierarchy","treeModelConfig","loggerCallback","msg","info","warn","error","err","childrenPropertyName","hierarchy","getTopiaryAsString","nodeName","first","strategy","node","findNodeObj","descendantNodeName","senior","junior","seniorNode","all","map","item","walkNodes","callback","walk","addNodeAsChildOfNode","parentNode","childNode","addChild","getTreeModel","getNewNode","getPathOfNode","getPath","getNamesOfNodePath","thisNode","deleteNodeFromHierarchy","drop","mergeSort","findInsertIndex","walkStrategies","k","TreeModel","modelComparatorFn","addChildToNode","child","parent","children","Node","childCount","hasComparatorFunction","isRoot","hasChildren","insertIndex","index","splice","addChildAtIndex","setIndex","oldIndex","indexOf","path","addToPath","unshift","getIndex","parseArgs","fn","options","ctx","pre","depthFirstPreOrder","context","keepGoing","post","depthFirstPostOrder","breadth","breadthFirst","processQueue","indexOfChild","comparatorFn","firstHalf","secondHalf","slice","merge","arr1","arr2","left1","left2","el","tree","recurseName","opts","nameFn","filterFn","filter","sortFn","sort","x","y","localeCompare","lines","recurse","xs","level","parentAry","ys","Function","sub","idx","subAry","forkChar","isLast","turnChar","indent","join","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","previousUnderscore","ArrayProto","ObjProto","FuncProto","toString","nativeIsArray","nativeKeys","nativeBind","bind","nativeCreate","Ctor","_wrapped","VERSION","optimizeCb","func","argCount","other","collection","accumulator","cb","identity","isFunction","isObject","matcher","iteratee","Infinity","createAssigner","keysFunc","undefinedOnly","source","baseCreate","MAX_ARRAY_INDEX","Math","pow","getLength","isArrayLike","each","collect","results","currentKey","createReduce","memo","reduce","foldl","inject","reduceRight","foldr","detect","predicate","findIndex","findKey","select","list","reject","negate","every","some","any","contains","includes","include","fromIndex","guard","values","invoke","method","isFunc","pluck","where","attrs","findWhere","max","lastComputed","computed","min","shuffle","set","shuffled","rand","random","sample","sortBy","criteria","left","right","a","b","behavior","groupBy","has","indexBy","countBy","toArray","size","partition","pass","fail","head","take","initial","last","rest","tail","compact","flatten","input","shallow","strict","startIndex","output","isArguments","j","without","difference","uniq","unique","isSorted","isBoolean","seen","argsLength","zip","unzip","createPredicateIndexFinder","findLastIndex","sortedIndex","low","high","mid","floor","createIndexFinder","predicateFind","isNaN","lastIndexOf","range","start","stop","step","ceil","executeBound","sourceFunc","boundFunc","callingContext","bound","partial","boundArgs","position","bindAll","memoize","hasher","cache","address","delay","wait","defer","throttle","previous","later","leading","now","remaining","trailing","debounce","immediate","timestamp","callNow","wrap","wrapper","compose","after","times","before","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","collectNonEnumProps","nonEnumIdx","proto","prop","allKeys","mapObject","pairs","invert","functions","methods","names","extendOwn","assign","pick","oiteratee","omit","String","defaults","clone","tap","interceptor","isMatch","eq","aStack","bStack","className","areArrays","aCtor","bCtor","pop","isEqual","isEmpty","isString","isElement","nodeType","type","Int8Array","isFinite","parseFloat","isNumber","isNull","isUndefined","noConflict","constant","propertyOf","matches","accum","Date","getTime","escapeMap","unescapeMap","createEscaper","escaper","match","testRegexp","RegExp","replaceRegexp","string","test","escape","unescape","fallback","idCounter","uniqueId","prefix","id","templateSettings","evaluate","interpolate","noMatch","escapes","escapeChar","template","text","settings","oldSettings","offset","variable","render","data","argument","chain","_chain","mixin","valueOf","toJSON"],"mappings":"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DC5S,IAvgDD,CAugDM,IAvgDN,CAAD;;AA0gDA;AAAO,KAn8IG;AAo8IV,YArgJgB;AAAhB;AAsgJC,CAhhJD;AAihJA,0C;;;;;;;ACjhJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;8CCrBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,8BAA8B;AAC9B;AACA,mDAAmD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,gDAAgD;;AAEhD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,sBAAsB;;AAEtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gCAAgC,oBAAoB;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,uBAAuB,SAAS;AAChC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;AAGA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,WAAW;AACX;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA,WAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACzkBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;ACvLtC;AACA;AACA;AACA;AACA;AACA,C;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtBA,gD;;;;;;ACAA,kBAAkB,wBAAwB,iBAAiB,gDAAgD,oBAAoB,sCAAsC,mBAAmB,gCAAgC,qCAAqC,sCAAsC,kCAAkC,sCAAsC,iDAAiD,+FAA+F,YAAY,8BAA8B,EAAE,wCAAwC,0CAA0C,wBAAwB,EAAE,EAAE,oCAAoC,sC","file":"test.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"config\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"role-hierarchy\", [\"config\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"role-hierarchy\"] = factory(require(\"config\"));\n\telse\n\t\troot[\"role-hierarchy\"] = factory(root[\"config\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_12__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a85adc8d8c9383e0ce1f","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 0\n// module chunks = 0","\nconst assert = require('assert');\nconst config = require('config');\nimport RoleHierarchy from '..';\n\nlet whichconfig = config || new function(){\n  this.getDescendantProp = (obj, desc) => {\n    var arr = desc.split(\".\");\n    while(arr.length && (obj = obj[arr.shift()]));\n    return obj;\n  };\n\n  this.confJSON = require('../test/config/test.json');\n\n  this.get = (key) => {\n    return this.getDescendantProp(this.confJSON, key);\n  }\n}();\n\n\ndescribe('RoleHierarchy', function () {\n  let roleHierarchy;\n\n  it('get a new RoleHierarchy', function (done) {\n    roleHierarchy = new RoleHierarchy(\n      {\n        \"hierarchy\": whichconfig.get(\"rolesHierarchyConfig.rolesHierarchy\"),\n        \"loggingConfig\": whichconfig.get(\"rolesHierarchyConfig.loggingConfig\"),\n        \"treeModelConfig\": whichconfig.get(\"rolesHierarchyConfig.treeModelConfig\")\n      }\n    );\n    assert.ok(roleHierarchy);\n    done();\n  });\n\n  it('Find a role in the hierarchy', function (done) {\n    let teacher = roleHierarchy.findRoleInHierarchy(\"teacher\");\n    assert.equal(teacher.name, \"teacher\", \"Expected role name to be teacher\");\n    done();\n  });\n\n  it('getRoleSubordinate', function (done) {\n    let subordinate = roleHierarchy.getRoleSubordinate('teacher', 'student');\n    assert.ok(subordinate, 'Expected to get a subordinate from teacher');\n    assert.equal(subordinate.name, 'student', 'Expected to get a student subordinate from teacher');\n    done();\n  });\n\n\n  it('getAllSubordinateRolesAsArray', function (done) {\n    let subordinatesArray = roleHierarchy.getAllSubordinateRolesAsArray('schoolAdmin');\n    assert.ok(subordinatesArray, 'Expected to get a subordinatesArray from schoolAdmin');\n    assert.deepEqual(subordinatesArray, [\"teacher\", \"student\"], \"Expected ['teacher','student']\");\n    done();\n  });\n\n  let myUserObj = {\n    _id: 'abc123',\n    profile: {\n      organizations: ['springfield school', 'springfield football team'],\n      school: 7\n    },\n    \"roles\": {\n      \"springfield school\": [\n        \"schoolAdmin\",\n        \"footballCaptain\"\n      ],\n      \"springfield football team\": [\n        \"footballCoach\"\n      ]\n\n    }\n  };\n\n  let myStudentObj = {\n    _id: 'abc123',\n    profile: {\n      organization: 'springfield school'\n    },\n    \"roles\": {\n      \"springfield school\":\n      [\n        \"student\",\n        \"footballCaptain\"\n      ]\n    }\n  };\n\n  it('getAllUserSubordinatesAsMap', function (done) {\n    let subordinatesMap = roleHierarchy.getAllUserSubordinatesAsMap(myUserObj)\n    assert.ok(subordinatesMap, 'Expected to get a subordinatesMap from schoolAdmin and footballCoach');\n    assert.deepEqual(subordinatesMap,\n      {\n        \"springfield school\": [\"teacher\", \"student\", \"footballPlayer\"],\n        \"springfield football team\": [\"footballCaptain\", \"footballPlayer\"]\n      }\n      , \"Unexpected subordinate results\");\n    done();\n  });\n\n  it('getAllMyFieldsAsObjects', function (done) {\n    let fieldsObj = roleHierarchy.getAllMyFieldsAsObject(myUserObj)\n    assert.ok(fieldsObj, 'Expected to get a fields Object from getAllMyFieldsAsObject');\n    assert.deepEqual(fieldsObj, {\n        \"springfield football team\": {},\n        \"springfield school\": {\n          \"_id\": 1,\n          \"emails\": 1,\n          \"profile.name\": 1,\n          \"roles\": 1,\n          \"username\": 1\n        }\n    });\n\n    // do it for student, we shouldn't see email\n    fieldsObj = roleHierarchy.getAllMyFieldsAsObject(myStudentObj);\n    assert.ok(fieldsObj, 'Expected to get a fields Object from getAllMyFieldsAsObject');\n    assert.deepEqual(fieldsObj, {\n      \"springfield school\": {\n        \"_id\": 1,\n        \"profile.name\": 1,\n        \"roles\": 1,\n        \"username\": 1\n      }\n    });\n\n    done();\n  });\n\n  it('isUserHasMoreSeniorRole', function (done) {\n    let result = roleHierarchy.isUserHasMoreSeniorRole(myUserObj,\"student\", \"springfield school\")\n    assert.ok(result, 'Expected to true');\n    done();\n  });\n\n  it('isUserDescendantOfUser', function (done) {\n    let result = roleHierarchy.isUserDescendantOfUser(myUserObj, myStudentObj, \"springfield school\");\n    assert.ok(result, 'Expected true');\n    result = roleHierarchy.isUserDescendantOfUser(myStudentObj,myUserObj, \"springfield school\"); // should be false\n    assert.equal(result, false, 'Expected false');\n    done();\n  });\n\n  it('getProfileCriteriaFromUser', function (done) {\n    let result = roleHierarchy.getProfileCriteriaFromUser(myUserObj, {}, \"springfield school\");\n    assert.deepEqual(result, {\"profile.school\": 7});\n    done();\n  });\n\n\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./test/test.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"role-hierarchy\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"role-hierarchy\"] = factory();\n\telse\n\t\troot[\"role-hierarchy\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */,\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _hierarchyModel = __webpack_require__(2);\n\nvar _hierarchyModel2 = _interopRequireDefault(_hierarchyModel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _ = __webpack_require__(3);\n\nvar _GLOBAL_GROUP = \"__global_roles__\";\n\nvar _getOrganizationsForUser2 = function _getOrganizationsForUser(myUserObj) {\n  var myOrganizations = [];\n  if (myUserObj) {\n    // figure out which organizations we belong to.\n    if (myUserObj.profile && (myUserObj.profile.organization || myUserObj.profile.organizations)) {\n      // note the plural\n      if (myUserObj.profile.organization) {\n        // there can be only one.\n        myOrganizations = [myUserObj.profile.organization];\n      } else {\n        // this guy is in multiple organizations.\n        myOrganizations = JSON.parse(JSON.stringify(myUserObj.profile.organizations)); // clone organizations\n      }\n    } else {\n      // default to the global group if there is no org info stored on the profile\n      myOrganizations = [_GLOBAL_GROUP];\n    }\n  }\n  return myOrganizations;\n};\n\nvar _getRolesForUser2 = function _getRolesForUser(user, group) {\n  if (!user) return [];\n  if (group) {\n    if ('string' !== typeof group) return [];\n    if ('$' === group[0]) return [];\n\n    // convert any periods to underscores\n    group = group.replace(/\\./g, '_');\n  }\n\n  if ('object' !== (typeof user === 'undefined' ? 'undefined' : _typeof(user))) {\n    // invalid user object\n    return [];\n  }\n\n  if (!user || !user.roles) return [];\n\n  if (group) {\n    return _.union(user.roles[group] || [], user.roles[_GLOBAL_GROUP] || []);\n  }\n\n  if (_.isArray(user.roles)) return user.roles;\n\n  // using groups but group not specified. return global group, if exists\n  return user.roles[_GLOBAL_GROUP] || [];\n};\n\nvar RoleHierarchy = function (_Hierarchy) {\n  _inherits(RoleHierarchy, _Hierarchy);\n\n  /**\n   * create a new instance of RoleHierarchy\n   * @param {Object} paramsObj containing a hierarchy and a loggingConfig (optional) and a TreeModel config (optional):\n   * {\n   *   hierarchy: {\"name\":\"teacher\", \"subordinates\": [ {\"name\":\"student\"} ]},\n   *   treeModelConfig: { \"childrenPropertyName\": \"subordinates\" },\n   *   loggerCallback: an object that has debug, info, warn and error properties whose values are logging functions.\n   * }\n   */\n  function RoleHierarchy(paramsObj) {\n    _classCallCheck(this, RoleHierarchy);\n\n    return _possibleConstructorReturn(this, (RoleHierarchy.__proto__ || Object.getPrototypeOf(RoleHierarchy)).call(this, paramsObj));\n  }\n\n  /**\n   * re-create the hierarchy with a new object structure.\n   * @param {Object} rolesHierarchy \n   */\n\n\n  _createClass(RoleHierarchy, [{\n    key: 'reparse',\n    value: function reparse(rolesHierarchy) {\n      this.root = this.treeModel.parse(rolesHierarchy);\n    }\n\n    /**\n     * Get the organizations that the user belongs to, as an array.\n     * @param {Object} myUserObj an object containing an organization or organizations property.\n     * @returns {Array<String>} an array of the organizations that the user belongs to.\n     */\n\n  }, {\n    key: '_getOrganizationsForUser',\n\n\n    /**\n     * Deprecated - use RoleHierarchy.getOrganizationsForUser instead.\n     * @param {*} myUserObj \n     */\n    value: function _getOrganizationsForUser(myUserObj) {\n      return _getOrganizationsForUser2(myUserObj);\n    }\n\n    /**\n     * Retrieve users roles\n     * @param {Object} user user object\n     * @param {String} organization Optional name of organization to restrict roles to.\n     *                         User's _GLOBAL_GROUP will also be included.\n     * @return {Array} Array of user's roles, unsorted.\n     */\n\n  }, {\n    key: 'findRoleInHierarchy',\n\n\n    /**\n     * Find a role in the hierarchy by name\n     * @param {string} roleName - the name of the role to find\n     * @returns {object} - the node in the tree that matches\n     */\n    value: function findRoleInHierarchy(roleName, startNode) {\n      return this.findNodeInHierarchy(roleName, startNode);\n    }\n\n    /**\n     * Return the subordinate roles of the given seniorRoleName\n     * @param {string} seniorRoleName - the name of the senior role\n     * @param {string} subordinateRoleName - the name of the subordinate role\n     * @returns {object} - the role of the subordinate, or false if not found.\n     */\n\n  }, {\n    key: 'getRoleSubordinate',\n    value: function getRoleSubordinate(seniorRoleName, subordinateRoleName, startNode) {\n      return this.findDescendantNodeByName(seniorRoleName, subordinateRoleName, startNode);\n    }\n\n    /**\n     * Get the names of subordinate roles as an array\n     * @param {string} seniorRoleName - the name of the senior role\n     * @returns {Array} - the subordinate role names if any, otherwise undefined.\n     */\n\n  }, {\n    key: 'getAllSubordinateRolesAsArray',\n    value: function getAllSubordinateRolesAsArray(seniorRoleName, startNode) {\n      return this.getAllDescendantNodesAsArray(seniorRoleName, startNode);\n    }\n\n    /**\n     * Get a map of all of the role names that the provided user can administer, grouped by organization\n     * @param myUserObj the user object of the provided user, with a roles property and a profile.organization or profile.organizations\n     * @returns {Object} an object of subordinate {organization:[roleName, roleName]} arrays that the provided user can administer\n     */\n\n  }, {\n    key: 'getAllUserSubordinatesAsMap',\n    value: function getAllUserSubordinatesAsMap(myUserObj) {\n      var startNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.root;\n\n      var debug = this.logger.debug;\n      var rolesICanAdminister = {},\n          myOrganizations = [];\n      // I might have a few roles, and a few organizations.\n      if (myUserObj) {\n        myOrganizations = this._getOrganizationsForUser(myUserObj); // e.g. [\"the app workshop\",\"good life gym\"]\n        myOrganizations.forEach(function (thisOrganization) {\n\n          var myRoles = RoleHierarchy._getRolesForUser(myUserObj, thisOrganization) || []; // e.g. [\"manager\"]\n          // debug(`RoleHierarchy._getRolesForUser(${myUserObj}, ${group}) => returning ${myRoles}`);\n\n          // for each role I have, add the subordinate roles to the list of roles I can administer for this org.\n          var mySubordinateRolesForThisOrg = [];\n          for (var thisRole in myRoles) {\n            if (myRoles.hasOwnProperty(thisRole)) {\n              // debug(`myRoles[thisRole]: ${myRoles[thisRole]}`);\n              // add this role\n              var thisRoleObjInHierarchy = this._findNode(myRoles[thisRole], startNode);\n              if (thisRoleObjInHierarchy) {\n                // debug(`thisRoleObjInHierarchy: ${JSON.stringify(thisRoleObjInHierarchy.model,null,2)}`);\n\n                // add all of the subordinate role names from the hierarchy\n                mySubordinateRolesForThisOrg = _.union(mySubordinateRolesForThisOrg, this.getAllSubordinateRolesAsArray(myRoles[thisRole], thisRoleObjInHierarchy, startNode));\n              } // role not in hierarchy. That's OK, but we don't know anything about it.\n            }\n          }\n          rolesICanAdminister[thisOrganization] = mySubordinateRolesForThisOrg;\n        }, this);\n      }\n\n      debug('getAllUserSubordinatesAsMap(' + JSON.stringify(myUserObj) + ') => returning ' + JSON.stringify(rolesICanAdminister));\n      return rolesICanAdminister;\n    }\n\n    /**\n     * Get an object of all of the Meteor.user fields that the provided user can see\n     * @param myUserObj the user object of the provided user, with a roles property\n     * @returns {object} an object of the format {orgName: [{field1: 1, field2: 2}]}, the values being Meteor.user field names that the provided user can see, suitable for inclusion \n     * as a \"fields\" property in a mongodb Collection query.\n     */\n\n  }, {\n    key: 'getAllMyFieldsAsObject',\n    value: function getAllMyFieldsAsObject(myUserObj) {\n      var _this2 = this;\n\n      var startNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.root;\n\n      var debug = this.logger.debug;\n      var visibleUserFields = {},\n          myOrganizations = [];\n      // I might have a few roles.\n      if (myUserObj) {\n        myOrganizations = this._getOrganizationsForUser(myUserObj); // e.g. [\"the app workshop\",\"good life gym\"]\n        var rolesICanAdminister = this.getAllUserSubordinatesAsMap(myUserObj, startNode);\n        // debug(`rolesICanAdminister = ${JSON.stringify(rolesICanAdminister)}`);\n\n        myOrganizations.forEach(function (thisOrganization) {\n          var myRoles = RoleHierarchy._getRolesForUser(myUserObj, thisOrganization) || []; // e.g. [\"manager\"]\n          // debug(`myRoles(${thisOrganization}) = ${JSON.stringify(myRoles)}`);\n\n          var allRolesICanSeeForThisOrg = void 0;\n          if (rolesICanAdminister.hasOwnProperty(thisOrganization)) {\n            allRolesICanSeeForThisOrg = _.union(myRoles, rolesICanAdminister[thisOrganization]);\n          } else {\n            allRolesICanSeeForThisOrg = myRoles;\n          }\n\n          debug('allRolesICanSeeForThisOrg(' + thisOrganization + ') = ' + JSON.stringify(allRolesICanSeeForThisOrg));\n\n          var visibleUserFieldsForThisOrg = {};\n          // for each role I have, add the subordinate roles' fields to the list of fields I can see for this org.\n          for (var thisRole in allRolesICanSeeForThisOrg) {\n            if (allRolesICanSeeForThisOrg.hasOwnProperty(thisRole)) {\n              // add this role\n              var thisRoleObjInHierarchy = _this2._findNode(allRolesICanSeeForThisOrg[thisRole], startNode);\n              if (thisRoleObjInHierarchy) {\n\n                debug('thisRoleObjInHierarchy: ' + JSON.stringify(thisRoleObjInHierarchy.model));\n\n                // add all of the visible user fields from this object in the hierarchy\n                visibleUserFieldsForThisOrg = _.extend(visibleUserFieldsForThisOrg, thisRoleObjInHierarchy.model.visibleUserFields);\n                debug('visibleFields: ' + JSON.stringify(visibleUserFieldsForThisOrg));\n              } // role not in hierarchy. That's OK, but we don't know anything about it.\n            }\n          }\n\n          visibleUserFields[thisOrganization] = visibleUserFieldsForThisOrg;\n          debug('visibleUserFields = ' + JSON.stringify(visibleUserFields, null, 2));\n        }, this);\n      }\n\n      debug('getAllMyFieldsAsObject(' + JSON.stringify(myUserObj) + ') => returning ' + JSON.stringify(visibleUserFields, null, 2));\n      return visibleUserFields;\n    }\n\n    /**\n     * returns true if the given object is more senior than the given role in the given organization.\n     * @param myUserObj the user object of the provided user, with a roles property and an organization(s) property\n     * @param roleName the name of the role to query\n     * @param organizationName the name of the organization to query whether the user has the role\n     * @returns {boolean} true if the user is more senior than the given role\n     */\n\n  }, {\n    key: 'isUserHasMoreSeniorRole',\n    value: function isUserHasMoreSeniorRole(myUserObj, roleName, organizationName) {\n      var startNode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.root;\n\n      var debug = this.logger.debug;\n\n      var orgSubordinates = this.getAllUserSubordinatesAsMap(myUserObj, startNode);\n      // orgSubordinates is of the format {organization:[roleName, roleName], org2: [roleName, roleName]}\n      if (orgSubordinates && orgSubordinates.hasOwnProperty(organizationName)) {\n        var ourOrgSubordinatesArr = orgSubordinates[organizationName];\n\n        // ourOrgSubordinatesArr is like [\"manager\",\"supervillain\"]\n        if (ourOrgSubordinatesArr && ourOrgSubordinatesArr.length) {\n          var retVal = !!ourOrgSubordinatesArr.find(function (subordinateRoleName) {\n            return subordinateRoleName === roleName;\n          }, // this is the droid you're looking for.\n          this);\n          debug('isUserHasMoreSeniorRole(' + JSON.stringify(myUserObj) + ',' + roleName + ',' + organizationName + ') => returning ' + retVal);\n          return retVal;\n        }\n      }\n      debug('isUserHasMoreSeniorRole(' + JSON.stringify(myUserObj) + ',' + roleName + ',' + organizationName + ') => returning false');\n      return false;\n    }\n\n    /**\n     * returns true if the given senior user is higher in the hierarchy than the given subordinate user for the given organization.\n     * @param seniorUserObj the senior user we're checking, with roles property and organization(s) property\n     * @param subordinateUserObj the user we want to check see if they are subordinate to the senior user, with roles property and organization(s) property\n     * @param organizationName the name of the organization whose roles to check\n     * @returns {boolean} true if the subordinateUser is below seniorUser in the hierarchy for at least one organization in common.\n     */\n\n  }, {\n    key: 'isUserDescendantOfUser',\n    value: function isUserDescendantOfUser(seniorUserObj, subordinateUserObj, organizationName) {\n      // 1. get the organizations and roles of the senior user. \n      // 2. get the organizations and roles of the subordinate.\n      // 3. Get the roles that the senior user can administer for this org.\n      // 4. For each such role that the senior user can administer, see if the subordinate has one of these roles.\n\n      var debug = this.logger.debug;\n\n      var seniorRolesMap = seniorUserObj.roles; // { \"justice league\": [\"admin\",\"hero\"], \"yankees\": [\"member\"], ... }\n      var subordinateRolesMap = subordinateUserObj.roles; // { \"fsociety\": [\"unwitting leader\",\"member\"], \"yankees\": [\"coach\",\"member\"], \"freemasons\": [\"grand wizard\"] }\n      var subordinateOrgs = _.keys(subordinateOrgs); // [\"fsociety\", \"freemasons\", \"yankees\"]\n\n      if (!seniorRolesMap.hasOwnProperty(organizationName) || !subordinateRolesMap.hasOwnProperty(organizationName)) {\n        // one of our users doesn't know anything about the organization\n        return false;\n      }\n      var seniorsSubordinatesMap = this.getAllUserSubordinatesAsMap(seniorUserObj); // { \"justice league\": [\"hero\",\"janitor\"] } -> note the user doesn't necessarily HAVE all of these roles\n      // find the senior user'ss subordinate roles for this org\n      if (!seniorsSubordinatesMap.hasOwnProperty(organizationName)) {\n        // no subordinate roles at all for this user in this org\n        return false;\n      }\n\n      var seniorsSubordinateRolesForOrg = seniorsSubordinatesMap[organizationName]; // [\"hero\",\"janitor\"];\n      var subordinateRolesForOrg = subordinateRolesMap[organizationName]; // [\"hero\"];\n      if (!seniorsSubordinateRolesForOrg || !seniorsSubordinateRolesForOrg.length) {\n        // no subordinate roles in this org for this user\n        return false;\n      }\n      if (!subordinateRolesForOrg || !subordinateRolesForOrg.length) {\n        // no roles in this org for this user\n        return false;\n      }\n\n      // see if there's any intersection between the roles the senior can administer for this org and the roles the subordinate has for this org.\n      var inCommon = _.intersection(seniorsSubordinateRolesForOrg, subordinateRolesForOrg);\n      debug('isUserDescendantOfUser(' + JSON.stringify(seniorUserObj) + ',' + JSON.stringify(subordinateUserObj) + ',' + organizationName + ') => returning ' + inCommon);\n      return inCommon && inCommon.length;\n    }\n\n    /**\n     * Copy the given user's profile properties (as specified in roles hierarchy as profileFilters) as profile properties suitable for adding to a new user.\n     * @param {object} userWithProfile - the user object, with a profile property to copy\n     * @param {object} profileFilterCriteria - existing profileFilterCriteria. Note that if any properties are already specified, they may\n     *  get overwritten.\n     * @param {string} organizationName - the organization we're dealing with.\n     * @returns {object} the query criteria, suitable for mongodb, to ensure only users with the same values for the specified fields will be returned.\n     */\n\n  }, {\n    key: 'getProfileCriteriaFromUser',\n    value: function getProfileCriteriaFromUser(userWithProfile, profileFilterCriteria, organizationName) {\n      //TODO : copy profile filters from ALL more senior nodes in the hierarchy. As it is, we have to specify them at every level.\n      var debug = this.logger.debug;\n      var userRolesMap = userWithProfile.roles; // { \"justice league\": [\"admin\",\"hero\"], \"yankees\": [\"member\"], ... }\n      if (!userRolesMap.hasOwnProperty(organizationName)) {\n        // Not much we can do.... \n        return profileFilterCriteria;\n      }\n\n      var rolesArray = userRolesMap[organizationName]; // [\"admin\", \"hero\"]\n      for (var roleIndex in rolesArray) {\n        if (userWithProfile.profile && rolesArray.hasOwnProperty(roleIndex)) {\n          // find this role in the hierarchy\n          var thisRole = this.findRoleInHierarchy(rolesArray[roleIndex]);\n          // copy the profile filters\n          if (thisRole && thisRole.profileFilters) {\n            // it might not be in our hierarchy\n\n            // loop through the profile filters (if any)\n            for (var filterIndex in thisRole.profileFilters) {\n              if (thisRole.profileFilters.hasOwnProperty(filterIndex)) {\n                var thisProfileFilter = thisRole.profileFilters[filterIndex];\n                // a profile filter is an array of property names to copy from the user's profile\n                if (userWithProfile.profile.hasOwnProperty(thisProfileFilter)) {\n                  // OK let's copy it to our criteria\n                  profileFilterCriteria = profileFilterCriteria || {}; // initialize if needed.\n                  profileFilterCriteria[\"profile.\" + thisProfileFilter] = userWithProfile.profile[thisProfileFilter];\n                }\n              }\n            }\n          }\n        }\n      }\n      debug('getProfileCriteriaFromUser(' + JSON.stringify(userWithProfile) + ', ' + JSON.stringify(profileFilterCriteria) + ', ' + organizationName + ') => returning ' + JSON.stringify(profileFilterCriteria));\n\n      return profileFilterCriteria;\n    }\n  }], [{\n    key: 'getOrganizationsForUser',\n    value: function getOrganizationsForUser(myUserObj) {\n      return _getOrganizationsForUser2(myUserObj);\n    }\n  }, {\n    key: 'getRolesForUser',\n    value: function getRolesForUser(user, organization) {\n      return _getRolesForUser2(user, organization);\n    }\n\n    /**\n     * Deprecated. Use RoleHierarchy.getRolesForUser instead.\n     * @param {*} user \n     * @param {*} organization \n     */\n\n  }, {\n    key: '_getRolesForUser',\n    value: function _getRolesForUser(user, organization) {\n      return _getRolesForUser2(user, organization);\n    }\n  }]);\n\n  return RoleHierarchy;\n}(_hierarchyModel2.default);\n\nexports.default = RoleHierarchy;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"hierarchy-model\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"hierarchy-model\"] = factory();\n\telse\n\t\troot[\"hierarchy-model\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _treeModel = __webpack_require__(3);\n\nvar _treeModel2 = _interopRequireDefault(_treeModel);\n\nvar _topiary = __webpack_require__(6);\n\nvar _topiary2 = _interopRequireDefault(_topiary);\n\nvar _underscore = __webpack_require__(7);\n\nvar _underscore2 = _interopRequireDefault(_underscore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nif (process) {\n  process.env.SUPPRESS_NO_CONFIG_WARNING = 'y';\n}\n\nvar Hierarchy = function () {\n\n  /**\n   * create a new instance of Hierarchy\n   * @param {Object} paramsObj containing a Hierarchy and a loggingConfig (optional) and a TreeModel config (optional):\n   * {\n   *   hierarchy: {\"name\":\"teacher\", \"children\": [ {\"name\":\"student\"} ]},\n   *   treeModelConfig: { \"childrenPropertyName\": \"children\" },\n   *   loggerCallback: an object that has debug, info, warn and error properties whose values are logging functions.\n   * }\n   */\n  function Hierarchy(paramsObj) {\n    _classCallCheck(this, Hierarchy);\n\n    // set up config defaults\n    var treeModelConfig = paramsObj.treeModelConfig || { \"childrenPropertyName\": \"children\" };\n\n    this.logger = paramsObj.loggerCallback || { debug: function debug(msg) {}, info: function info(msg) {}, warn: function warn(msg) {}, error: function error(msg, err) {} };\n\n    this.childrenPropertyName = treeModelConfig.childrenPropertyName;\n\n    // actual constructor stuff here.\n\n    // get treeModelConfig from config\n    // we need a clone of the treeModelConfig (it doesn't work straight from node-config)\n    treeModelConfig = JSON.parse(JSON.stringify(treeModelConfig));\n    this.treeModel = new _treeModel2.default(treeModelConfig);\n    this.root = this.treeModel.parse(paramsObj.hierarchy);\n    this.logger.debug(this.getTopiaryAsString());\n  }\n\n  /**\n   * re-create the hierarchy with a new object structure.\n   * @param {Object} hierarchy \n   */\n\n\n  _createClass(Hierarchy, [{\n    key: 'reparse',\n    value: function reparse(hierarchy) {\n      this.root = this.treeModel.parse(hierarchy);\n    }\n  }, {\n    key: '_findNode',\n    value: function _findNode(nodeName) {\n      var startNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.root;\n\n      return startNode.first({ strategy: 'breadth' }, function (node) {\n        return node.model.name === nodeName;\n      });\n    }\n  }, {\n    key: '_getOrganizationsForUser',\n    value: function _getOrganizationsForUser(myUserObj) {\n      var myOrganizations = [];\n      if (myUserObj) {\n        // figure out which organizations we belong to.\n        if (myUserObj.profile && (myUserObj.profile.organization || myUserObj.profile.organizations)) {\n          // note the plural\n          if (myUserObj.profile.organization) {\n            // there can be only one.\n            myOrganizations = [myUserObj.profile.organization];\n          } else {\n            // this guy is in multiple organizations.\n            myOrganizations = JSON.parse(JSON.stringify(myUserObj.profile.organizations)); // clone organizations\n          }\n        } else {\n          // default to the global group if there is no org info stored on the profile\n          myOrganizations = [_GLOBAL_GROUP];\n        }\n      }\n      return myOrganizations;\n    }\n\n    /**\n     * Find the model for a node in the hierarchy, by name\n     * @param {string} nodeName - the name of the node to find (i.e. 'name' property value)\n     * @param {object} [startNode] - the node in the hierarchy to start from\n     * @returns {object} - the model of the node in the tree that matches\n     */\n\n  }, {\n    key: 'findNodeInHierarchy',\n    value: function findNodeInHierarchy(nodeName, startNode) {\n      var result = this._findNode(nodeName, startNode);\n      if (result && result.model) {\n        this.logger.debug('findNodeInHierarchy(' + nodeName + ') => returning ' + JSON.stringify(result.model, null, 2));\n        return result.model;\n      }\n      this.logger.debug('findNodeInHierarchy(' + nodeName + ') => returning undefined');\n    }\n\n    /**\n     * Find the node object for a node in the hierarchy, by name\n     * @param {string} nodeName - the name of the node to find (i.e. 'name' property value)\n     * @param {object} [startNode] - the node in the hierarchy to start from\n     */\n\n  }, {\n    key: 'findNodeObj',\n    value: function findNodeObj(nodeName, startNode) {\n      return this._findNode(nodeName, startNode);\n    }\n\n    /**\n     * Return the descendent node of the given nodeName if found.\n     * @param {string} nodeName - the name of the node underneath which we should search\n     * @param {string} descendantNodeName - the name of the descendant node to find\n     * @param {object} [startNode] - the node in the hierarchy to start from\n     * @returns {object} - the node of the descendant, or undefined or false if not found.\n     */\n\n  }, {\n    key: 'findDescendantNodeByName',\n    value: function findDescendantNodeByName(nodeName, descendantNodeName, startNode) {\n      // get the node for the node name\n      var senior = this._findNode(nodeName, startNode);\n      if (!senior) {\n        return false;\n      }\n      var junior = this._findNode(descendantNodeName, senior);\n      if (junior) {\n        this.logger.debug('findDescendantNodeByName(' + nodeName + ',' + descendantNodeName + ') => returning ' + JSON.stringify(junior.model, null, 2));\n        return junior.model;\n      } else {\n        this.logger.debug('findDescendantNodeByName(' + nodeName + ') => returning undefined');\n      }\n    }\n\n    /**\n     * Get the names of subordinate nodes as an array\n     * @param {string} nodeName - the name of the senior node i.e. 'name' property value\n     * @param {object} [startNode] - the node in the hierarchy to start from\n     * @returns {Array} - the subordinate node names if any, otherwise undefined.\n     */\n\n  }, {\n    key: 'getAllDescendantNodesAsArray',\n    value: function getAllDescendantNodesAsArray(nodeName, startNode) {\n      // find the node for the given node name\n      var seniorNode = this._findNode(nodeName, startNode);\n      // get all the nodes under this one\n      var result = seniorNode.all({ strategy: 'breadth' }, function (node) {\n        return node.model.name !== nodeName;\n      }).map(function (item) {\n        // get the names of each node\n        return item.model.name;\n      });\n      this.logger.debug('getAllDescendantNodesAsArray(' + nodeName + ') => returning ' + JSON.stringify(result, null, 2));\n      return result;\n    }\n\n    /**\n     * get a string suitable for printing, via the topiary library.\n     * @param {object} hierarchy - a Hierarchy instance\n     * @returns {string} a string representation of the hierarchy\n     */\n\n  }, {\n    key: 'getTopiaryAsString',\n    value: function getTopiaryAsString() {\n      var hierarchy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root;\n\n      return (0, _topiary2.default)(hierarchy.model, this.childrenPropertyName);\n    }\n\n    /**\n     * Process each node in the tree via a callback, halting when your callback returns false.\n     * @param {function} callback a function that takes a single parameter, 'node', \n     * which is the value of the node currently being processed. Return false from the callback to halt the traversal.\n     */\n\n  }, {\n    key: 'walkNodes',\n    value: function walkNodes(callback) {\n      this.root.walk(callback);\n    }\n\n    /**\n     * Add a child to a parent.\n     * @param {Object} parentNode the node in the hierarchy to which the child should be added\n     * @param {Object} childNode a node or tree\n     * @returns {Object} the child node.\n     */\n\n  }, {\n    key: 'addNodeAsChildOfNode',\n    value: function addNodeAsChildOfNode(parentNode, childNode) {\n      var debug = this.logger.debug;\n      debug('parentNode: ' + JSON.stringify(parentNode.model));\n      debug('childNode: ' + JSON.stringify(childNode.model));\n      return parentNode.addChild(childNode);\n    }\n\n    /**\n     * Get the array of Nodes representing the path from the root to this Node (inclusive).\n     * @param {Object} node \n     * @returns {Object} the array of Nodes representing the path from the root to this Node (inclusive).\n     */\n\n  }, {\n    key: 'getTreeModel',\n\n\n    /**\n     * get the underlying TreeModel instance\n     * @returns {Object} the underlying TreeModel instance.\n     */\n    value: function getTreeModel() {\n      return this.treeModel;\n    }\n\n    /**\n     * Create Node (which is itself just a TreeModel)\n     * @param {Object} paramsObj - an object which has 'name' and 'children' properties\n     */\n\n  }, {\n    key: 'getNewNode',\n    value: function getNewNode(paramsObj) {\n      return this.treeModel.parse(paramsObj);\n    }\n  }], [{\n    key: 'getPathOfNode',\n    value: function getPathOfNode(node) {\n      return node.getPath();\n    }\n\n    /**\n     * Get the array of Node names representing the path from the root to this Node (inclusive).\n     * @param {Object} node \n     * @returns {Array<String>} the array of Strings representing the path from the root to this Node (inclusive).\n     */\n\n  }, {\n    key: 'getNamesOfNodePath',\n    value: function getNamesOfNodePath(node) {\n      return _underscore2.default.map(node.getPath(), function (thisNode) {\n        return thisNode.model.name;\n      });\n    }\n\n    /**\n     * Drop the subtree starting at this node. Returns the node itself, which is now a root node.\n     * @param {Object} node the node in the hierarchy to drop.\n     * @returns {Object} node the node that just got dropped.\n     */\n\n  }, {\n    key: 'deleteNodeFromHierarchy',\n    value: function deleteNodeFromHierarchy(node) {\n      return node.drop();\n    }\n  }]);\n\n  return Hierarchy;\n}();\n\nexports.default = Hierarchy;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar mergeSort, findInsertIndex;\nmergeSort = __webpack_require__(4);\nfindInsertIndex = __webpack_require__(5);\n\nmodule.exports = (function () {\n  'use strict';\n\n  var walkStrategies;\n\n  walkStrategies = {};\n\n  function k(result) {\n    return function () {\n      return result;\n    };\n  }\n\n  function TreeModel(config) {\n    config = config || {};\n    this.config = config;\n    this.config.childrenPropertyName = config.childrenPropertyName || 'children';\n    this.config.modelComparatorFn = config.modelComparatorFn;\n  }\n\n  function addChildToNode(node, child) {\n    child.parent = node;\n    node.children.push(child);\n    return child;\n  }\n\n  function Node(config, model) {\n    this.config = config;\n    this.model = model;\n    this.children = [];\n  }\n\n  TreeModel.prototype.parse = function (model) {\n    var i, childCount, node;\n\n    if (!(model instanceof Object)) {\n      throw new TypeError('Model must be of type object.');\n    }\n\n    node = new Node(this.config, model);\n    if (model[this.config.childrenPropertyName] instanceof Array) {\n      if (this.config.modelComparatorFn) {\n        model[this.config.childrenPropertyName] = mergeSort(\n          this.config.modelComparatorFn,\n          model[this.config.childrenPropertyName]);\n      }\n      for (i = 0, childCount = model[this.config.childrenPropertyName].length; i < childCount; i++) {\n        addChildToNode(node, this.parse(model[this.config.childrenPropertyName][i]));\n      }\n    }\n    return node;\n  };\n\n  function hasComparatorFunction(node) {\n    return typeof node.config.modelComparatorFn === 'function';\n  }\n\n  Node.prototype.isRoot = function () {\n    return this.parent === undefined;\n  };\n\n  Node.prototype.hasChildren = function () {\n    return this.children.length > 0;\n  };\n\n  function addChild(self, child, insertIndex) {\n    var index;\n\n    if (!(child instanceof Node)) {\n      throw new TypeError('Child must be of type Node.');\n    }\n\n    child.parent = self;\n    if (!(self.model[self.config.childrenPropertyName] instanceof Array)) {\n      self.model[self.config.childrenPropertyName] = [];\n    }\n\n    if (hasComparatorFunction(self)) {\n      // Find the index to insert the child\n      index = findInsertIndex(\n          self.config.modelComparatorFn,\n          self.model[self.config.childrenPropertyName],\n          child.model);\n\n      // Add to the model children\n      self.model[self.config.childrenPropertyName].splice(index, 0, child.model);\n\n      // Add to the node children\n      self.children.splice(index, 0, child);\n    } else {\n      if (insertIndex === undefined) {\n        self.model[self.config.childrenPropertyName].push(child.model);\n        self.children.push(child);\n      } else {\n        if (insertIndex < 0 || insertIndex > self.children.length) {\n          throw new Error('Invalid index.');\n        }\n        self.model[self.config.childrenPropertyName].splice(insertIndex, 0, child.model);\n        self.children.splice(insertIndex, 0, child);\n      }\n    }\n    return child;\n  }\n\n  Node.prototype.addChild = function (child) {\n    return addChild(this, child);\n  };\n\n  Node.prototype.addChildAtIndex = function (child, index) {\n    if (hasComparatorFunction(this)) {\n      throw new Error('Cannot add child at index when using a comparator function.');\n    }\n\n    return addChild(this, child, index);\n  };\n\n  Node.prototype.setIndex = function (index) {\n    if (hasComparatorFunction(this)) {\n      throw new Error('Cannot set node index when using a comparator function.');\n    }\n\n    if (this.isRoot()) {\n      if (index === 0) {\n        return this;\n      }\n      throw new Error('Invalid index.');\n    }\n\n    if (index < 0 || index >= this.parent.children.length) {\n      throw new Error('Invalid index.');\n    }\n\n    var oldIndex = this.parent.children.indexOf(this);\n\n    this.parent.children.splice(index, 0, this.parent.children.splice(oldIndex, 1)[0]);\n\n    this.parent.model[this.parent.config.childrenPropertyName]\n    .splice(index, 0, this.parent.model[this.parent.config.childrenPropertyName].splice(oldIndex, 1)[0]);\n\n    return this;\n  };\n\n  Node.prototype.getPath = function () {\n    var path = [];\n    (function addToPath(node) {\n      path.unshift(node);\n      if (!node.isRoot()) {\n        addToPath(node.parent);\n      }\n    })(this);\n    return path;\n  };\n\n  Node.prototype.getIndex = function () {\n    if (this.isRoot()) {\n      return 0;\n    }\n    return this.parent.children.indexOf(this);\n  };\n\n  /**\n   * Parse the arguments of traversal functions. These functions can take one optional\n   * first argument which is an options object. If present, this object will be stored\n   * in args.options. The only mandatory argument is the callback function which can\n   * appear in the first or second position (if an options object is given). This\n   * function will be saved to args.fn. The last optional argument is the context on\n   * which the callback function will be called. It will be available in args.ctx.\n   *\n   * @returns Parsed arguments.\n   */\n  function parseArgs() {\n    var args = {};\n    if (arguments.length === 1) {\n      if (typeof arguments[0] === 'function') {\n        args.fn = arguments[0];\n      } else {\n        args.options = arguments[0];\n      }\n    } else if (arguments.length === 2) {\n      if (typeof arguments[0] === 'function') {\n        args.fn = arguments[0];\n        args.ctx = arguments[1];\n      } else {\n        args.options = arguments[0];\n        args.fn = arguments[1];\n      }\n    } else {\n      args.options = arguments[0];\n      args.fn = arguments[1];\n      args.ctx = arguments[2];\n    }\n    args.options = args.options || {};\n    if (!args.options.strategy) {\n      args.options.strategy = 'pre';\n    }\n    if (!walkStrategies[args.options.strategy]) {\n      throw new Error('Unknown tree walk strategy. Valid strategies are \\'pre\\' [default], \\'post\\' and \\'breadth\\'.');\n    }\n    return args;\n  }\n\n  Node.prototype.walk = function () {\n    var args;\n    args = parseArgs.apply(this, arguments);\n    walkStrategies[args.options.strategy].call(this, args.fn, args.ctx);\n  };\n\n  walkStrategies.pre = function depthFirstPreOrder(callback, context) {\n    var i, childCount, keepGoing;\n    keepGoing = callback.call(context, this);\n    for (i = 0, childCount = this.children.length; i < childCount; i++) {\n      if (keepGoing === false) {\n        return false;\n      }\n      keepGoing = depthFirstPreOrder.call(this.children[i], callback, context);\n    }\n    return keepGoing;\n  };\n\n  walkStrategies.post = function depthFirstPostOrder(callback, context) {\n    var i, childCount, keepGoing;\n    for (i = 0, childCount = this.children.length; i < childCount; i++) {\n      keepGoing = depthFirstPostOrder.call(this.children[i], callback, context);\n      if (keepGoing === false) {\n        return false;\n      }\n    }\n    keepGoing = callback.call(context, this);\n    return keepGoing;\n  };\n\n  walkStrategies.breadth = function breadthFirst(callback, context) {\n    var queue = [this];\n    (function processQueue() {\n      var i, childCount, node;\n      if (queue.length === 0) {\n        return;\n      }\n      node = queue.shift();\n      for (i = 0, childCount = node.children.length; i < childCount; i++) {\n        queue.push(node.children[i]);\n      }\n      if (callback.call(context, node) !== false) {\n        processQueue();\n      }\n    })();\n  };\n\n  Node.prototype.all = function () {\n    var args, all = [];\n    args = parseArgs.apply(this, arguments);\n    args.fn = args.fn || k(true);\n    walkStrategies[args.options.strategy].call(this, function (node) {\n      if (args.fn.call(args.ctx, node)) {\n        all.push(node);\n      }\n    }, args.ctx);\n    return all;\n  };\n\n  Node.prototype.first = function () {\n    var args, first;\n    args = parseArgs.apply(this, arguments);\n    args.fn = args.fn || k(true);\n    walkStrategies[args.options.strategy].call(this, function (node) {\n      if (args.fn.call(args.ctx, node)) {\n        first = node;\n        return false;\n      }\n    }, args.ctx);\n    return first;\n  };\n\n  Node.prototype.drop = function () {\n    var indexOfChild;\n    if (!this.isRoot()) {\n      indexOfChild = this.parent.children.indexOf(this);\n      this.parent.children.splice(indexOfChild, 1);\n      this.parent.model[this.config.childrenPropertyName].splice(indexOfChild, 1);\n      this.parent = undefined;\n      delete this.parent;\n    }\n    return this;\n  };\n\n  return TreeModel;\n})();\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = (function () {\n  'use strict';\n\n  /**\n   * Sort an array using the merge sort algorithm.\n   *\n   * @param {function} comparatorFn The comparator function.\n   * @param {array} arr The array to sort.\n   * @returns {array} The sorted array.\n   */\n  function mergeSort(comparatorFn, arr) {\n    var len = arr.length, firstHalf, secondHalf;\n    if (len >= 2) {\n      firstHalf = arr.slice(0, len / 2);\n      secondHalf = arr.slice(len / 2, len);\n      return merge(comparatorFn, mergeSort(comparatorFn, firstHalf), mergeSort(comparatorFn, secondHalf));\n    } else {\n      return arr.slice();\n    }\n  }\n\n  /**\n   * The merge part of the merge sort algorithm.\n   *\n   * @param {function} comparatorFn The comparator function.\n   * @param {array} arr1 The first sorted array.\n   * @param {array} arr2 The second sorted array.\n   * @returns {array} The merged and sorted array.\n   */\n  function merge(comparatorFn, arr1, arr2) {\n    var result = [], left1 = arr1.length, left2 = arr2.length;\n    while (left1 > 0 && left2 > 0) {\n      if (comparatorFn(arr1[0], arr2[0]) <= 0) {\n        result.push(arr1.shift());\n        left1--;\n      } else {\n        result.push(arr2.shift());\n        left2--;\n      }\n    }\n    if (left1 > 0) {\n      result.push.apply(result, arr1);\n    } else {\n      result.push.apply(result, arr2);\n    }\n    return result;\n  }\n\n  return mergeSort;\n})();\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = (function () {\n  'use strict';\n\n  /**\n   * Find the index to insert an element in array keeping the sort order.\n   *\n   * @param {function} comparatorFn The comparator function which sorted the array.\n   * @param {array} arr The sorted array.\n   * @param {object} el The element to insert.\n   */\n  function findInsertIndex(comparatorFn, arr, el) {\n    var i, len;\n    for (i = 0, len = arr.length; i < len; i++) {\n      if (comparatorFn(arr[i], el) > 0) {\n        break;\n      }\n    }\n    return i;\n  }\n\n  return findInsertIndex;\n})();\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = function (tree, recurseName, opts) {\n  opts = opts || {};\n  var nameFn = opts.name || function (e) { return e.name; };\n  var filterFn = opts.filter || function () { return true; };\n  var sortFn = !opts.sort ? null : function (x, y) {\n    return nameFn(x).localeCompare(nameFn(y));\n  };\n\n\n  var lines = [nameFn(tree)];\n  if (!Array.isArray(tree[recurseName])) {\n    throw new Error(\"No recurse entry for '\" + recurseName + \"' found on root\");\n  }\n\n  var recurse = function (xs, level, parentAry) {\n    var ys = (sortFn instanceof Function) ? xs.sort(sortFn) : xs;\n    ys.forEach(function (sub, idx, subAry) {\n      var children    = (sub[recurseName] || []).filter(filterFn)\n        , hasChildren = children.length > 0\n        , forkChar    = hasChildren ? \"\" : \"\"\n        , isLast      = idx === subAry.length - 1\n        , turnChar    = isLast ? \"\" : \"\"\n        , indent      = '';\n      \n      for (var i = 0; i < level; i += 1) {\n        indent += (parentAry[i] ? \" \" : \"\") + \" \";\n      }\n\n      lines.push(\" \" + indent + turnChar + \"\" + forkChar + nameFn(sub));\n\n      if (hasChildren) {\n        // recurse into current tree while keeping track of parent lines\n        recurse(children, level + 1, parentAry.concat(isLast));\n      }\n    });\n  };\n  recurse(tree[recurseName].filter(filterFn), 0, []);\n  return lines.join('\\n');\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (true) {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result  either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {\n      return _;\n    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  }\n}.call(this));\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=hierarchy.js.map\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (true) {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result  either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {\n      return _;\n    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  }\n}.call(this));\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=role-hierarchy.js.map\n\n\n// WEBPACK FOOTER //\n// ./distribution/role-hierarchy.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 6\n// module chunks = 0","'use strict';\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/assert/assert.js\n// module id = 7\n// module chunks = 0","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/util/util.js\n// module id = 8\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 9\n// module chunks = 0","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/util/support/isBufferBrowser.js\n// module id = 10\n// module chunks = 0","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/util/node_modules/inherits/inherits_browser.js\n// module id = 11\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"config\",\"commonjs2\":\"config\",\"amd\":\"config\",\"root\":\"config\"}\n// module id = 12\n// module chunks = 0","module.exports = {\"rolesHierarchyConfig\":{\"loggingConfig\":{\"level\":\"info\",\"timestamp\":true,\"colorize\":true},\"treeModelConfig\":{\"childrenPropertyName\":\"subordinates\"},\"rolesHierarchy\":{\"name\":\"admin\",\"subordinates\":[{\"name\":\"user-admin\",\"subordinates\":[{\"name\":\"schoolAdmin\",\"subordinates\":[{\"name\":\"teacher\",\"subordinates\":[{\"name\":\"student\",\"visibleUserFields\":{\"_id\":1,\"username\":1,\"profile.name\":1,\"roles\":1}}],\"defaultNewUserRoles\":[\"student\"],\"profileFilters\":[\"school\",\"classId\"],\"visibleUserFields\":{\"emails\":1}}],\"profileFilters\":[\"school\"]},{\"name\":\"footballCoach\",\"subordinates\":[{\"name\":\"footballCaptain\",\"subordinates\":[{\"name\":\"footballPlayer\"}]}]}],\"defaultNewUserRoles\":[\"teacher\"]}],\"defaultNewUserRoles\":[\"teacher\"]}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./test/config/test.json\n// module id = 13\n// module chunks = 0"],"sourceRoot":""}